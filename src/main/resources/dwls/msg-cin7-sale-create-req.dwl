%dw 2.0
output application/json
var item = vars.requestPayload.requestBody.payload
---
{
    //Customer: "",
    CustomerID: item.Cin7_AccountID__c,
    //Contact: item.ContactId__c,
    Phone: item.Phone__c,
    Email: item.Email__c,
    DefaultAccount: item.Default_Account__c,
    SkipQuote: item.Skip_Quote__c,
    BillingAddress: {
        DisplayAddressLine1: "",
        DisplayAddressLine2: "",
        Line1: item.BillingAddress.Street,
        Line2: "",
        City: item.BillingAddress.City,
        State: item.BillingAddress.State,
        Postcode: item.BillingAddress.PostalCode,
        Country: item.BillingAddress.Country
    },
    (ShippingAddress: {
        Id: "",
        DisplayAddressLine1: "",
        DisplayAddressLine2: "",
        Line1: item.ShippingAddress.Street,
        Line2: "",
        City: item.ShippingAddress.City,
        State: item.ShippingAddress.State,
        Postcode: item.ShippingAddress.PostalCode,
        Country: item.ShippingAddress.Country,
        Company: "",
        Contact: "",
        ShipToOther: false
    }) if(!isEmpty(item.ShippingAddress.Street)),
    ShippingNotes: item.Shipping_Notes__c,
    BaseCurrency: item.Base_Currency__c,
    CustomerCurrency: item.Customer_Currency__c,
    TaxRule: item.Tax_Rule__c,
    TaxCalculation: item.Tax_Calculation__c,
    Terms: item.Terms__c,
    PriceTier: item.PriceTier__c,
    ShipBy: item.ShipBy__c,
    //(Location: "14 Degrees") if(!isEmpty(item.Location_cin7_id__c)),
    SaleOrderDate: item.Sale_Order_Date__c,
    LastModifiedOn: item.LastModifiedOn__c,
    Note: item.Note__c,
    CustomerReference: item.Customer_Reference__c,
    COGSAmount: item.COGS_Amount__c,
    Status: item.Status__c,
    CombinedPickingStatus: item.Combined_Picking_Status__c,
    CombinedPackingStatus: item.Combined_Packing_Status__c,
    CombinedShippingStatus: item.Combined_Shipping_Status__c,
    FulFilmentStatus: item.FulFilment_Status__c,
    CombinedInvoiceStatus: item.Combined_Invoice_Status__c,
    CombinedPaymentStatus: item.Combined_Payment_Status__c,
    CombinedTrackingNumbers: item.Combined_Tracking_Numbers__c,
    Carrier: item.Carrier__c,
    CurrencyRate: item.Currency_Rate__c,
    SalesRepresentative: item.Sales_Representative__c,
    Type: item.Type__c,
    SourceChannel: item.Source_Channel__c,
    ExternalID: item.ExternalID__c,
    ServiceOnly: item.Service_Only__c,
    //TaxInclusive: item.Tax_Iclusive__c,
    Comments: item.Comments__c
}